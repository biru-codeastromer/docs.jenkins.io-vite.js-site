{
  "title": "Jenkins Security Advisory 2023-02-09",
  "date": "2023-02-09",
  "url": "/security/advisory/2023-02-09/",
  "kind": "other",
  "core": null,
  "issues": [
    {
      "id": "SECURITY-3039",
      "reporter": null,
      "title": "Git releases with critical vulnerabilities on Jenkins Docker images",
      "cve": "CVE-2022-23521 and CVE-2022-41903",
      "cvss": {
        "severity": "Critical",
        "vector": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"
      },
      "description_adoc": "The Jenkins project provides Docker images for both controllers and agents.\nMost of these Docker images include the `git` command line tool to interact with Git repositories.\n\nGit releases published before 2023-01-17 are affected by the vulnerabilities https://github.com/git/git/security/advisories/GHSA-c738-c5qq-xg89[CVE-2022-23521] and https://github.com/git/git/security/advisories/GHSA-475x-2q3q-hvwq[CVE-2022-41903].\nIn the context of Jenkins, the former vulnerability could be exploited through crafted repository contents, allowing an attacker with commit access to a Git repository cloned on a Jenkins controller or agent to achieve remote code execution.\n\nIMPORTANT: Building software is the primary use case for Jenkins.\nTo accomplish that, Jenkins invokes build scripts containing user-specified code, usually retrieved from an SCM like Git.\nAs a result, this vulnerability only has a real impact in very narrow circumstances:\nwhen attackers can control repository contents, but are unable to change build steps, Jenkinsfiles, test code that gets executed by Jenkins, or similar.\n\nAffected Jenkins controller and agent images for current releases of Jenkins have been updated to include releases of Git that include fixes for these vulnerabilities.\n\nAdministrators can confirm they're using an up-to-date version of Git on their Jenkins Docker images as follows:\n\n* **Debian-based images** (the default, tags include `latest`, `lts`, `jdk11`, etc., as well as all `slim` images)\n  for both controller (`jenkins/jenkins`) and agents (`jenkins/agent`, `jenkins/inbound-agent`, `jenkins/ssh-agent`)\n  need Git 2.30.2-1+deb11u1 or newer to be safe.\n  Run the following command to confirm the image is up to date (replacing `${IMAGE}` and `${TAG}` as needed): +\n  `docker run --rm --entrypoint='' jenkins/${IMAGE}:${TAG} sh -c 'dpkg -l git'`\n* **Alpine-based images** for both controller (`jenkins/jenkins`) and agents (`jenkins/agent`, `jenkins/inbound-agent`, `jenkins/ssh-agent`)\n  need a version that's considered fixed in the Git security advisory (e.g., 2.36.4, 2.34.6, 2.32.5).\n  Run the following command to confirm the image is up to date (replacing `${IMAGE}` and `${TAG}` as needed): +\n  `docker run --rm --entrypoint='' jenkins/${IMAGE}:alpine-${TAG} sh -c 'apk list git 2>/dev/null'`\n* **AlmaLinux-based images** for the controller (`jenkins/jenkins`)\n  need Git 2.31.1-3 or newer to be safe.\n  Run the following command to confirm the image is up to date (replacing `${TAG}` as needed): +\n  `docker run --rm --entrypoint='' jenkins/jenkins:${TAG} sh -c 'rpm -qa git-core'`\n* **Red Hat-based (UBI and CentOS) images** (tags include, e.g., `rhel-ubi8-jdk11`, `rhel-ubi9-jdk17`, `centos7`)\n  for the controller (`jenkins/jenkins`)\n  need Git 2.31.1-3 or newer to be safe.\n  Run the following command to confirm the image is up to date (replacing `${TAG}` as needed): +\n  `docker run --rm --entrypoint='' jenkins/jenkins:${TAG} sh -c 'rpm -qa git'`\n* **Windows-based images for controller** (`jenkins/jenkins`)\n  do not include Git.\n* **Windows-based images for agents** (`jenkins/agent`, `jenkins/inbound-agent`, `jenkins/ssh-agent`)\n  need a version that's considered fixed in the Git security advisory (e.g., 2.36.4, 2.34.6, 2.32.5).\n  Run the following command inside a container to confirm it is up to date: +\n  `git --version`",
      "plugins": [],
      "components": [
        {
          "title": "Jenkins Docker images",
          "previous": "n/a (see above)",
          "fixed": "n/a (see above)"
        }
      ],
      "description_html": "<div class=\"paragraph\">\n<p>The Jenkins project provides Docker images for both controllers and agents.\nMost of these Docker images include the <code>git</code> command line tool to interact with Git repositories.</p>\n</div>\n<div class=\"paragraph\">\n<p>Git releases published before 2023-01-17 are affected by the vulnerabilities <a href=\"https://github.com/git/git/security/advisories/GHSA-c738-c5qq-xg89\">CVE-2022-23521</a> and <a href=\"https://github.com/git/git/security/advisories/GHSA-475x-2q3q-hvwq\">CVE-2022-41903</a>.\nIn the context of Jenkins, the former vulnerability could be exploited through crafted repository contents, allowing an attacker with commit access to a Git repository cloned on a Jenkins controller or agent to achieve remote code execution.</p>\n</div>\n<div class=\"admonitionblock important\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-important\" title=\"Important\"></i>\n</td>\n<td class=\"content\">\nBuilding software is the primary use case for Jenkins.\nTo accomplish that, Jenkins invokes build scripts containing user-specified code, usually retrieved from an SCM like Git.\nAs a result, this vulnerability only has a real impact in very narrow circumstances:\nwhen attackers can control repository contents, but are unable to change build steps, Jenkinsfiles, test code that gets executed by Jenkins, or similar.\n</td>\n</tr>\n</table>\n</div>\n<div class=\"paragraph\">\n<p>Affected Jenkins controller and agent images for current releases of Jenkins have been updated to include releases of Git that include fixes for these vulnerabilities.</p>\n</div>\n<div class=\"paragraph\">\n<p>Administrators can confirm they&#8217;re using an up-to-date version of Git on their Jenkins Docker images as follows:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><strong>Debian-based images</strong> (the default, tags include <code>latest</code>, <code>lts</code>, <code>jdk11</code>, etc., as well as all <code>slim</code> images)\nfor both controller (<code>jenkins/jenkins</code>) and agents (<code>jenkins/agent</code>, <code>jenkins/inbound-agent</code>, <code>jenkins/ssh-agent</code>)\nneed Git 2.30.2-1+deb11u1 or newer to be safe.\nRun the following command to confirm the image is up to date (replacing <code>${IMAGE}</code> and <code>${TAG}</code> as needed):<br>\n<code>docker run --rm --entrypoint='' jenkins/${IMAGE}:${TAG} sh -c 'dpkg -l git'</code></p>\n</li>\n<li>\n<p><strong>Alpine-based images</strong> for both controller (<code>jenkins/jenkins</code>) and agents (<code>jenkins/agent</code>, <code>jenkins/inbound-agent</code>, <code>jenkins/ssh-agent</code>)\nneed a version that&#8217;s considered fixed in the Git security advisory (e.g., 2.36.4, 2.34.6, 2.32.5).\nRun the following command to confirm the image is up to date (replacing <code>${IMAGE}</code> and <code>${TAG}</code> as needed):<br>\n<code>docker run --rm --entrypoint='' jenkins/${IMAGE}:alpine-${TAG} sh -c 'apk list git 2&gt;/dev/null'</code></p>\n</li>\n<li>\n<p><strong>AlmaLinux-based images</strong> for the controller (<code>jenkins/jenkins</code>)\nneed Git 2.31.1-3 or newer to be safe.\nRun the following command to confirm the image is up to date (replacing <code>${TAG}</code> as needed):<br>\n<code>docker run --rm --entrypoint='' jenkins/jenkins:${TAG} sh -c 'rpm -qa git-core'</code></p>\n</li>\n<li>\n<p><strong>Red Hat-based (UBI and CentOS) images</strong> (tags include, e.g., <code>rhel-ubi8-jdk11</code>, <code>rhel-ubi9-jdk17</code>, <code>centos7</code>)\nfor the controller (<code>jenkins/jenkins</code>)\nneed Git 2.31.1-3 or newer to be safe.\nRun the following command to confirm the image is up to date (replacing <code>${TAG}</code> as needed):<br>\n<code>docker run --rm --entrypoint='' jenkins/jenkins:${TAG} sh -c 'rpm -qa git'</code></p>\n</li>\n<li>\n<p><strong>Windows-based images for controller</strong> (<code>jenkins/jenkins</code>)\ndo not include Git.</p>\n</li>\n<li>\n<p><strong>Windows-based images for agents</strong> (<code>jenkins/agent</code>, <code>jenkins/inbound-agent</code>, <code>jenkins/ssh-agent</code>)\nneed a version that&#8217;s considered fixed in the Git security advisory (e.g., 2.36.4, 2.34.6, 2.32.5).\nRun the following command inside a container to confirm it is up to date:<br>\n<code>git --version</code></p>\n</li>\n</ul>\n</div>"
    }
  ],
  "components": [],
  "index_details_html": null,
  "content_html": null
}