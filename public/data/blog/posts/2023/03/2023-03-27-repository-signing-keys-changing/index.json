{
  "id": "2023-03-2023-03-27-repository-signing-keys-changing",
  "url": "/blog/2023/03/01/2023-03-27-repository-signing-keys-changing/",
  "title": "Jenkins 2.397 and 2.387.2: New Linux Repository Signing Keys",
  "date": "2023-03-01",
  "authors": [
    "markewaite"
  ],
  "tags": [
    "announcement",
    "linux",
    "platform"
  ],
  "summary": "This article announces new Linux repository signing keys. Repository signing keys will change with the release of Jenkins weekly 2.397 and Jenkins LTS 2.387.2. The previous repository signing keys will not be used after the release of Jenkins weekly 2.396. The repository signing keys will be changed for Debian/Ubuntu and CentOS/Red Hat repositories.",
  "opengraph_image": "/images/post-images/2023/03-repository-signing-keys-change/opengraph.png",
  "content_html": "<div class=\"paragraph\">\n<p>Beginning March 28, 2023, the Jenkins weekly releases will use new repository signing keys for the Linux installation packages.\nThe same change will be made in Jenkins LTS releases beginning April 5, 2023.\nAdministrators of Linux systems <strong>must</strong> install the new signing keys on their Linux servers <strong>before</strong> installing Jenkins Jenkins weekly 2.397 or Jenkins LTS 2.387.2.</p>\n</div>\n<div class=\"sect1\">\n<h2 id=\"debianubuntu\"><a class=\"anchor\" href=\"#debianubuntu\"></a>Debian/Ubuntu</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Update Debian compatible operating systems (Debian, Ubuntu, Linux Mint Debian Edition, etc.) with the command:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Debian/Ubuntu LTS release</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">curl -fsSL https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key | sudo tee \\\n  /usr/share/keyrings/jenkins-keyring.asc &gt; /dev/null\necho deb [signed-by=/usr/share/keyrings/jenkins-keyring.asc] \\\n  https://pkg.jenkins.io/debian-stable binary/ | sudo tee \\\n  /etc/apt/sources.list.d/jenkins.list &gt; /dev/null</code></pre>\n</div>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Debian/Ubuntu weekly release</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">curl -fsSL https://pkg.jenkins.io/debian/jenkins.io-2023.key | sudo tee \\\n  /usr/share/keyrings/jenkins-keyring.asc &gt; /dev/null\necho deb [signed-by=/usr/share/keyrings/jenkins-keyring.asc] \\\n  https://pkg.jenkins.io/debian binary/ | sudo tee \\\n  /etc/apt/sources.list.d/jenkins.list &gt; /dev/null</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"red-hatcentos\"><a class=\"anchor\" href=\"#red-hatcentos\"></a>Red Hat/CentOS</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Update Red Hat compatible operating systems (Red Hat Enterprise Linux, Alma Linux, CentOS, Fedora, Oracle Linux, Rocky Linux, Scientific Linux, etc.) with the command:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Red Hat/CentOS LTS release</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io-2023.key</code></pre>\n</div>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Red Hat/CentOS weekly release</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo rpm --import https://pkg.jenkins.io/redhat/jenkins.io-2023.key</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"frequently-asked-questions\"><a class=\"anchor\" href=\"#frequently-asked-questions\"></a>Frequently Asked Questions</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"what-if-i-dont-update-the-repository-signing-key\"><a class=\"anchor\" href=\"#what-if-i-dont-update-the-repository-signing-key\"></a>What if I don&#8217;t update the repository signing key?</h3>\n<div class=\"paragraph\">\n<p>Updates may be <strong>blocked</strong> or interrupted by the operating system package manager (apt, yum, dnf) on operating systems that have not installed the new repository signing key.\nSample messages from the operating system may look like:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Debian/Ubuntu</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">Reading package lists... Done\nW: GPG error: https://pkg.jenkins.io/debian-stable binary/ Release:\n    The following signatures couldn't be verified because the public key is not available:\n        NO_PUBKEY FCEF32E745F2C3D5\nE: The repository 'https://pkg.jenkins.io/debian-stable binary/ Release' is not signed.\nN: Updating from such a repository can't be done securely, and is therefore disabled by default.\nN: See apt-secure(8) manpage for repository creation and user configuration details.</code></pre>\n</div>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Red Hat/CentOS</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">Downloading packages:\nwarning: /var/cache/yum/x86_64/7/jenkins/packages/jenkins-2.397-1.1.noarch.rpm:\n    Header V4 RSA/SHA512 Signature, key ID 45f2c3d5: NOKEY\nPublic key for jenkins-2.397-1.1.noarch.rpm is not installed</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"why-is-the-repository-signing-key-being-updated\"><a class=\"anchor\" href=\"#why-is-the-repository-signing-key-being-updated\"></a>Why is the repository signing key being updated?</h3>\n<div class=\"paragraph\">\n<p>The repository signing key expires after 3 years so that it matches with the expiration dates of the jar file signing and the MSI signing certificate.\nThe updated GPG repository signing key is used in the weekly repositories and the stable repositories.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"which-operating-systems-are-affected\"><a class=\"anchor\" href=\"#which-operating-systems-are-affected\"></a>Which operating systems are affected?</h3>\n<div class=\"paragraph\">\n<p>Operating systems that use Debian package management (apt) and operating systems that use Red Hat package management (yum and dnf) need the new repository signing key.</p>\n</div>\n<div class=\"paragraph\">\n<p>Other operating systems like Windows, macOS, FreeBSD, OpenBSD, Solaris, and OpenIndiana are not affected.</p>\n</div>\n</div>\n</div>\n</div>"
}