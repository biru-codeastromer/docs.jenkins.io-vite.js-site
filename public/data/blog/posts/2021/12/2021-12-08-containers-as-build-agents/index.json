{
  "id": "2021-12-2021-12-08-containers-as-build-agents",
  "url": "/blog/2021/12/01/2021-12-08-containers-as-build-agents/",
  "title": "Use Containers as Build Agents",
  "date": "2021-12-01",
  "authors": [
    "darinpope"
  ],
  "tags": [
    "agents",
    "containers",
    "docker"
  ],
  "summary": "Using containers as build agents is an effective way to get the flexibility you need to create applications faster and more effectively.",
  "opengraph_image": "/images/post-images/2021-12-docker-containers/docker-containers-as-build-agents.png",
  "content_html": "<div class=\"paragraph\">\n<p>A continuous integration environment is a mixed bag of machines, platforms, build toolchains and operating systems.\nIdeally, you want as much flexibility as possible in managing these environments.\nYou want your build machines to be interchangeable and you don&#8217;t want to tie your builds to a particular machine.\nUsing containers as build agents is an effective way to get the flexibility you need to create applications faster and more effectively.</p>\n</div>\n<div class=\"paragraph\">\n<p>Most modern software organizations recognize the benefits of deploying and managing applications as containers.\nAnd now more organizations are using containers to unify their build and test environments across machines, and to provide an efficient mechanism for deploying applications.</p>\n</div>\n<div class=\"paragraph\">\n<p>If you&#8217;re new to containers, think of it as the next step beyond virtualization.\nIt consists of a set of platform-as-a-service products that use OS-level virtualization to deliver software in packages called containers.\nA container image contains everything it needs to run independently of the server on which it lives: It contains a copy of the operating system, along with your application.\nThat could include a database, code, configuration files, dependencies, and so forth.</p>\n</div>\n<div class=\"paragraph\">\n<p>Containerization is a great way to simplify migration of Jenkins instances to different machines, as well as simplify ongoing maintenance and upgrades.\nStarting with versions 2.5 and higher, Jenkins Pipeline has built-in support for interacting with Docker from within a Jenkinsfile.</p>\n</div>\n<div class=\"paragraph\">\n<p>Although you can install and upgrade Jenkins using OS-installable packages, the container images of Jenkins take installation and upgrades to a new level, removing a lot of the complications with maintaining the Jenkins installation.\nThat&#8217;s one of the main reasons you should prefer the container images of Jenkins over OS-specific installation packages.</p>\n</div>\n<div class=\"sect1\">\n<h2 id=\"using-containers-as-build-agents-for-greater-pipeline-flexibility\"><a class=\"anchor\" href=\"#using-containers-as-build-agents-for-greater-pipeline-flexibility\"></a>Using containers as build agents for greater Pipeline flexibility</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>What about using containers in your build agents? You&#8217;ll recall that Jenkins agents are the \"workers\" that perform operations requested by the Jenkins controller.</p>\n</div>\n<div class=\"videoblock\">\n<div class=\"title\">What is a Jenkins agent?</div>\n<div class=\"content\">\n<iframe width=\"852\" height=\"480\" src=\"https://www.youtube.com/embed/4KghHJEz5no?rel=0\" frameborder=\"0\" allowfullscreen></iframe>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Many of you have been writing Jenkins pipelines for awhile, but you&#8217;ve been constrained by the tooling that&#8217;s available on your agent.\nBut what if you no longer had to be constrained by specific versions of specific tools on specific agents? And that you had full control over the tooling that you&#8217;re using just by having Docker available on your agents?</p>\n</div>\n<div class=\"paragraph\">\n<p>Well, that is exactly what&#8217;s possible by using containers as build agents for Jenkins.\nTo learn how to set up your agents with Docker, watch this step-by-step video.</p>\n</div>\n<div class=\"videoblock\">\n<div class=\"title\">How to Setup Docker Containers As Build Agents for Jenkins</div>\n<div class=\"content\">\n<iframe width=\"852\" height=\"480\" src=\"https://www.youtube.com/embed/ymI02j-hqpU?rel=0\" frameborder=\"0\" allowfullscreen></iframe>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>So why would you want to use a container as your build agent? As a pipeline author, it gives you the ability to define the tools and the specific versions of those tools that you want to use in your pipeline so that those items are not being mandated or managed by others.</p>\n</div>\n<div class=\"paragraph\">\n<p>Secondly, if in your environment, someone else has to install the tools for you on your agent, you can completely bypass all of that because you&#8217;re able to dynamically bring in the tools that you want or need at runtime.</p>\n</div>\n<div class=\"paragraph\">\n<p>Finally, it gives you the chance to experiment with different tools without having to make a long-term commitment to those tools.\nBecause if you have a dependency on someone else installing tools for you, that might take a long time.\nBut by running it as a container, you can test it out, and if it works, great! Then you have the option to work with somebody else to get static versions of those tools installed on your agents, or you can just stay with your container-based build agents.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"thanks-to-our-sponsor\"><a class=\"anchor\" href=\"#thanks-to-our-sponsor\"></a>Thanks to our Sponsor</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Darin works for CloudBees.\nCloudBees helps Fortune 1000 enterprises manage and scale Jenkins.\nThanks to CloudBees for sponsoring the creation of this blog post.</p>\n</div>\n</div>\n</div>"
}