{
  "id": "2022-05-2022-05-13-mirrors.jenkins.io-HTTPS",
  "url": "/blog/2022/05/01/2022-05-13-mirrors.jenkins.io-HTTPS/",
  "title": "Enforced HTTPS for 'mirrors.jenkins.io' and consolidation of the Jenkins Mirrors",
  "date": "2022-05-01",
  "authors": [
    "dduportal"
  ],
  "tags": [
    "infrastructure",
    "mirrors",
    "jenkins"
  ],
  "summary": "The 19th of May 2022, the domain `mirrors.jenkins.io` will be forced to HTTPS and consolidated into the same system as `get.jenkins.io`.",
  "opengraph_image": "/images/logo-title-opengraph.png",
  "content_html": "<div class=\"paragraph\">\n<p>The Jenkins project provides a download mirror infrastructure allowing to download Jenkins packages and plugins from a download server close to your location.</p>\n</div>\n<div class=\"sect1\">\n<h2 id=\"how-does-it-work\"><a class=\"anchor\" href=\"#how-does-it-work\"></a>How Does it Work?</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>When a download request is emitted to either <code>mirrors.jenkins.io</code> or <code>get.jenkins.io</code>, an HTTP redirect response to a mirror download server is answered.</p>\n</div>\n<div class=\"paragraph\">\n<p>The Jenkins infrastructure uses a database of existing mirror servers provided by volunteers and donators to select the closest mirror to your location:\nthis is currently the role of the distinct <code>mirrors.jenkins.io</code> and <code>get.jenkins.io</code> services.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"consolidation\"><a class=\"anchor\" href=\"#consolidation\"></a>Consolidation</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The system behind <code>mirrors.jenkins.io</code> is using a software named <a href=\"https://mirrorbrain.org/\">\"mirrorbrain\"</a> and was originally used by the Jenkins infrastructure to provide download redirections to mirrors.</p>\n</div>\n<div class=\"paragraph\">\n<p>A new system was introduced in 2020: <code>get.jenkins.io</code>, using <a href=\"https://github.com/etix/mirrorbits\">\"mirrorbits\"</a> which is a great fit for a Kubernetes environment (lightweight, horizontally scalable) and provides a set of nice WebUI features to see the mirror list and grading.</p>\n</div>\n<div class=\"paragraph\">\n<p>INFO: Try it by yourself, check the mirrors providing the latest Jenkins LTS distribution: <a href=\"https://get.jenkins.io/war-stable/2.332.3/jenkins.war?mirrorlist\" class=\"bare\">https://get.jenkins.io/war-stable/2.332.3/jenkins.war?mirrorlist</a></p>\n</div>\n<div class=\"paragraph\">\n<p>It&#8217;s been 2 years and the new system is clearly the most reliable: that&#8217;s why we, the Jenkins Infrastructure team, want to retire the \"mirrorbrain\" system.</p>\n</div>\n<div class=\"paragraph\">\n<p>In consequence, the 19th of May 2022, the domain name <code>mirrors.jenkins.io</code> will be changed to point to the actual \"mirrorbits\" system already available at <code>get.jenkins.io</code>.</p>\n</div>\n<div class=\"paragraph\">\n<p>This consolidation ensures all users downloading a Jenkins package or a plugin will use the closest download mirror to their location, without having to maintain 2 distinct systems.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"enforced-https\"><a class=\"anchor\" href=\"#enforced-https\"></a>Enforced HTTPS</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The main consequence is that the HTTPS protocol will be enforced for the request to the domain <code>mirrors.jenkins.io</code>.</p>\n</div>\n<div class=\"paragraph\">\n<p>The \"mirrorbrain\" system currently serving requests behind the domain <code>mirrors.jenkins.io</code> is not available through HTTPS, which is a safety issue for users downloading files.</p>\n</div>\n<div class=\"paragraph\">\n<p>The 19th of May 2022, that won&#8217;t be the case anymore: like <code>get.jenkins.io</code>, HTTPS will be available and enforced for the requests going through the domain <code>mirrors.jenkins.io</code>.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"what-does-it-change-for-me\"><a class=\"anchor\" href=\"#what-does-it-change-for-me\"></a>What Does It Change for Me?</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Short answer: nothing. You should already be using the domain <code>get.jenkins.io</code> as it&#8217;s been the default since almost 2 years, and the content served by both system is the same.</p>\n</li>\n<li>\n<p>Long answer: if you are still using the former <code>mirrors.jenkins.io</code> and are not able to switch to <code>get.jenkins.io</code>, you&#8217;ll see the following changes:</p>\n</li>\n<li>\n<p>üåç The mirror usually selected might change as the grading system on mirrorbits is different (and covers way more mirrors): faster downloads for you!</p>\n</li>\n<li>\n<p>üîê Your HTTP requests will be redirected to their corresponding URL using the HTTPS protocol with a valid TLS certificate signed by the Let&#8217;s Encrypt authority: improved safety!</p>\n</li>\n<li>\n<p>‚ö†Ô∏è The IP pointed by the DNS record <code>mirrors.jenkins.io</code> will change from <code>52.202.51.185</code> to <code>52.167.253.43</code>: upgrade your proxies!</p>\n</li>\n</ul>\n</div>\n</div>\n</div>"
}